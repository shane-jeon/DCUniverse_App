{% extends 'base.html' %} {% block title %}Into the DC Universe{% endblock %}  



{% block body %}

<div class="main-header">
  <h1 class="page-title">
    Into the </h1>
    <img class="dc-logo" src="/static/img/DC_Comics_logo.png" /> <h1 class="page-title">Universe</h1>
  </h1>
</div>

<div class="search-container">

    <label class="search-description" for="searchInput">Characters Search</label>
    <form>
      <input class="input" id="search-term" type="text" placeholder="Search">
      <button type="submit" onclick="search()">Search</button>
    </form>
    <!-- <div id="results"></div>
    <script src="{{ url_for('static', filename='/static/JS/searchBar.js')}}"></script> -->
      
</div>

<div id="root"></div>
<div id="modal">
  <div id="modal-content">
    <img src="" id="modal-img" />
    <p id="modal-text">
    </p>
  </div>
</div>

<ul class="character-list">
  <div class="container">
      {% for character in characters | sort(attribute='name') %}

      <!-- <li class="popup-text"> -->
        <li>
        <div class="characters">
          <div class="char-individual">
            <div class="flexbox-item char-img">
              <img class="char-avatar modal-trigger" src="{{character.image}}" />
            </div>
            
            <div class="flexbox-item character-name">
              <p>
                <a class="hyperlink character_redirect" href="/{{character.id}}"
                >{{ character.name }}</a
                >
              </p>
            </div>
          </div>
        </div>
      </li>
      {% endfor %} 
  </div>
</ul>


{% block js %}
<script>
  const modalImg = document.getElementById("modal-img");
  const modalText = document.getElementById("modal-text");
  const modal = document.getElementById("modal");
  const triggers = document.querySelectorAll(".modal-trigger");

  function showModal() {
    modalImg.src = this.src;
    modalText.innerHTML = this.dataset.description;
    modal.style.display = "block";
  }

  function hideModal() {
    modal.style.display = "none";
  }

  triggers.forEach(trigger => {
    trigger.addEventListener("mouseover", showModal);
    trigger.addEventListener("mouseout", hideModal)
  });
  // console.log('script')
  // const text = document.getElementById("text");
  // const img = document.querySelectorAll('.char-img')
  // console.log('text: ', text)
  // console.log('img: ', img)

  // function showText() {
  //   text.style.display = "block";
  //   // this.nextSibling.style.display = "block";
  // }

  // function hideText() {
  //   text.style.display = "none";
  //   // this.nextSibling.style.display = "none";
  // }

  // for (let i = 0; i < img.length; i++) {
  //   img[i].addEventListener("mouseover", showText);
  //   img[i].addEventListener("mouseout", hideText);
  // }
</script>
{% endblock %}

{% endblock %}

